menu(aoOIF) {
    choice(aoOIF_Full, "Full")
    choice(aoOIF_Incremental, "Incremental")
}
recordtype(ao) {
    %#include "epicsTypes.h"
    %#include "link.h"
    %#include "epicsMutex.h"
    %#include "ellLib.h"
    %#include "epicsTime.h"
    field(NAME, DBF_STRING) {
        prompt("Record Name")
        special(SPC_NOMOD)
        size(61)
    }
    field(DESC, DBF_STRING) {
        size(41)
        promptgroup("10 - Common")
        prompt("Descriptor")
    }
    field(ASG, DBF_STRING) {
        special(SPC_AS)
        promptgroup("10 - Common")
        prompt("Access Security Group")
        size(29)
    }
    field(SCAN, DBF_MENU) {
        menu(menuScan)
        prompt("Scan Mechanism")
        special(SPC_SCAN)
        promptgroup("20 - Scan")
        interest(1)
    }
    field(PINI, DBF_MENU) {
        interest(1)
        menu(menuPini)
        prompt("Process at iocInit")
        promptgroup("20 - Scan")
    }
    field(PHAS, DBF_SHORT) {
        promptgroup("20 - Scan")
        special(SPC_SCAN)
        prompt("Scan Phase")
        interest(1)
    }
    field(EVNT, DBF_STRING) {
        promptgroup("20 - Scan")
        special(SPC_SCAN)
        prompt("Event Name")
        interest(1)
        size(40)
    }
    field(TSE, DBF_SHORT) {
        interest(1)
        prompt("Time Stamp Event")
        promptgroup("20 - Scan")
    }
    field(TSEL, DBF_INLINK) {
        promptgroup("20 - Scan")
        prompt("Time Stamp Link")
        interest(1)
    }
    field(DTYP, DBF_DEVICE) {
        promptgroup("10 - Common")
        prompt("Device Type")
        interest(1)
    }
    field(DISV, DBF_SHORT) {
        initial("1")
        promptgroup("20 - Scan")
        prompt("Disable Value")
    }
    field(DISA, DBF_SHORT) {
        prompt("Disable")
    }
    field(SDIS, DBF_INLINK) {
        promptgroup("20 - Scan")
        prompt("Scanning Disable")
        interest(1)
    }
    field(MLOK, DBF_NOACCESS) {
        interest(4)
        prompt("Monitor lock")
        special(SPC_NOMOD)
        extra("epicsMutexId        mlok")
    }
    field(MLIS, DBF_NOACCESS) {
        interest(4)
        special(SPC_NOMOD)
        prompt("Monitor List")
        extra("ELLLIST             mlis")
    }
    field(BKLNK, DBF_NOACCESS) {
        prompt("Backwards link tracking")
        special(SPC_NOMOD)
        interest(4)
        extra("ELLLIST             bklnk")
    }
    field(DISP, DBF_UCHAR) {
        prompt("Disable putField")
    }
    field(PROC, DBF_UCHAR) {
        prompt("Force Processing")
        pp(TRUE)
        interest(3)
    }
    field(STAT, DBF_MENU) {
        special(SPC_NOMOD)
        prompt("Alarm Status")
        menu(menuAlarmStat)
        initial("UDF")
    }
    field(SEVR, DBF_MENU) {
        menu(menuAlarmSevr)
        prompt("Alarm Severity")
        special(SPC_NOMOD)
    }
    field(NSTA, DBF_MENU) {
        special(SPC_NOMOD)
        prompt("New Alarm Status")
        menu(menuAlarmStat)
        interest(2)
    }
    field(NSEV, DBF_MENU) {
        menu(menuAlarmSevr)
        prompt("New Alarm Severity")
        special(SPC_NOMOD)
        interest(2)
    }
    field(ACKS, DBF_MENU) {
        special(SPC_NOMOD)
        prompt("Alarm Ack Severity")
        menu(menuAlarmSevr)
        interest(2)
    }
    field(ACKT, DBF_MENU) {
        promptgroup("70 - Alarm")
        special(SPC_NOMOD)
        menu(menuYesNo)
        prompt("Alarm Ack Transient")
        interest(2)
        initial("YES")
    }
    field(DISS, DBF_MENU) {
        interest(1)
        prompt("Disable Alarm Sevrty")
        menu(menuAlarmSevr)
        promptgroup("70 - Alarm")
    }
    field(LCNT, DBF_UCHAR) {
        interest(2)
        special(SPC_NOMOD)
        prompt("Lock Count")
    }
    field(PACT, DBF_UCHAR) {
        prompt("Record active")
        special(SPC_NOMOD)
        interest(1)
    }
    field(PUTF, DBF_UCHAR) {
        interest(1)
        prompt("dbPutField process")
        special(SPC_NOMOD)
    }
    field(RPRO, DBF_UCHAR) {
        special(SPC_NOMOD)
        prompt("Reprocess ")
        interest(1)
    }
    field(ASP, DBF_NOACCESS) {
        interest(4)
        special(SPC_NOMOD)
        prompt("Access Security Pvt")
        extra("struct asgMember    *asp")
    }
    field(PPN, DBF_NOACCESS) {
        prompt("pprocessNotify")
        special(SPC_NOMOD)
        interest(4)
        extra("struct processNotify *ppn")
    }
    field(PPNR, DBF_NOACCESS) {
        extra("struct processNotifyRecord *ppnr")
        interest(4)
        prompt("pprocessNotifyRecord")
        special(SPC_NOMOD)
    }
    field(SPVT, DBF_NOACCESS) {
        extra("struct scan_element *spvt")
        interest(4)
        prompt("Scan Private")
        special(SPC_NOMOD)
    }
    field(RSET, DBF_NOACCESS) {
        prompt("Address of RSET")
        special(SPC_NOMOD)
        interest(4)
        extra("struct typed_rset   *rset")
    }
    field(DSET, DBF_NOACCESS) {
        extra("struct dset         *dset")
        special(SPC_NOMOD)
        prompt("DSET address")
        interest(4)
    }
    field(DPVT, DBF_NOACCESS) {
        interest(4)
        prompt("Device Private")
        special(SPC_NOMOD)
        extra("void                *dpvt")
    }
    field(RDES, DBF_NOACCESS) {
        extra("struct dbRecordType *rdes")
        interest(4)
        special(SPC_NOMOD)
        prompt("Address of dbRecordType")
    }
    field(LSET, DBF_NOACCESS) {
        special(SPC_NOMOD)
        prompt("Lock Set")
        interest(4)
        extra("struct lockRecord   *lset")
    }
    field(PRIO, DBF_MENU) {
        special(SPC_SCAN)
        promptgroup("20 - Scan")
        prompt("Scheduling Priority")
        menu(menuPriority)
        interest(1)
    }
    field(TPRO, DBF_UCHAR) {
        prompt("Trace Processing")
    }
    field(BKPT, DBF_NOACCESS) {
        extra("char                bkpt")
        interest(1)
        prompt("Break Point")
        special(SPC_NOMOD)
    }
    field(UDF, DBF_UCHAR) {
        interest(1)
        pp(TRUE)
        prompt("Undefined")
        promptgroup("10 - Common")
        initial("1")
    }
    field(UDFS, DBF_MENU) {
        initial("INVALID")
        prompt("Undefined Alarm Sevrty")
        menu(menuAlarmSevr)
        promptgroup("70 - Alarm")
        interest(1)
    }
    field(TIME, DBF_NOACCESS) {
        prompt("Time")
        special(SPC_NOMOD)
        interest(2)
        extra("epicsTimeStamp      time")
    }
    field(FLNK, DBF_FWDLINK) {
        promptgroup("20 - Scan")
        prompt("Forward Process Link")
        interest(1)
    }
    field(VAL, DBF_DOUBLE) {
        asl(ASL0)
        prompt("Desired Output")
        promptgroup("50 - Output")
        pp(TRUE)
    }
    field(OVAL, DBF_DOUBLE) {
        prompt("Output Value")
    }
    field(OUT, DBF_OUTLINK) {
        interest(1)
        prompt("Output Specification")
        promptgroup("50 - Output")
    }
    field(OROC, DBF_DOUBLE) {
        prompt("Output Rate of Change")
        promptgroup("50 - Output")
        interest(1)
    }
    field(DOL, DBF_INLINK) {
        promptgroup("40 - Input")
        prompt("Desired Output Loc")
        interest(1)
    }
    field(OMSL, DBF_MENU) {
        menu(menuOmsl)
        prompt("Output Mode Select")
        promptgroup("50 - Output")
        interest(1)
    }
    field(OIF, DBF_MENU) {
        interest(1)
        promptgroup("50 - Output")
        menu(aoOIF)
        prompt("Out Full/Incremental")
    }
    field(PREC, DBF_SHORT) {
        interest(1)
        prompt("Display Precision")
        promptgroup("80 - Display")
        prop(YES)
    }
    field(LINR, DBF_MENU) {
        prompt("Linearization")
        menu(menuConvert)
        special(SPC_LINCONV)
        promptgroup("60 - Convert")
        interest(1)
        pp(TRUE)
    }
    field(EGUF, DBF_DOUBLE) {
        special(SPC_LINCONV)
        promptgroup("60 - Convert")
        prompt("Eng Units Full")
        pp(TRUE)
        interest(1)
    }
    field(EGUL, DBF_DOUBLE) {
        promptgroup("60 - Convert")
        special(SPC_LINCONV)
        prompt("Eng Units Low")
        pp(TRUE)
        interest(1)
    }
    field(EGU, DBF_STRING) {
        prop(YES)
        size(16)
        promptgroup("80 - Display")
        prompt("Engineering Units")
        interest(1)
    }
    field(ROFF, DBF_ULONG) {
        interest(2)
        pp(TRUE)
        prompt("Raw Offset")
    }
    field(EOFF, DBF_DOUBLE) {
        interest(2)
        pp(TRUE)
        prompt("EGU to Raw Offset")
        promptgroup("60 - Convert")
    }
    field(ESLO, DBF_DOUBLE) {
        promptgroup("60 - Convert")
        prompt("EGU to Raw Slope")
        pp(TRUE)
        interest(2)
        initial("1")
    }
    field(DRVH, DBF_DOUBLE) {
        interest(1)
        pp(TRUE)
        prompt("Drive High Limit")
        promptgroup("30 - Action")
        prop(YES)
    }
    field(DRVL, DBF_DOUBLE) {
        pp(TRUE)
        interest(1)
        promptgroup("30 - Action")
        prompt("Drive Low Limit")
        prop(YES)
    }
    field(HOPR, DBF_DOUBLE) {
        interest(1)
        prompt("High Operating Range")
        promptgroup("80 - Display")
        prop(YES)
    }
    field(LOPR, DBF_DOUBLE) {
        interest(1)
        prompt("Low Operating Range")
        promptgroup("80 - Display")
        prop(YES)
    }
    field(AOFF, DBF_DOUBLE) {
        prompt("Adjustment Offset")
        promptgroup("60 - Convert")
        interest(1)
        pp(TRUE)
    }
    field(ASLO, DBF_DOUBLE) {
        prompt("Adjustment Slope")
        promptgroup("60 - Convert")
        interest(1)
        pp(TRUE)
    }
    field(HIHI, DBF_DOUBLE) {
        prop(YES)
        interest(1)
        pp(TRUE)
        prompt("Hihi Alarm Limit")
        promptgroup("70 - Alarm")
    }
    field(LOLO, DBF_DOUBLE) {
        prop(YES)
        promptgroup("70 - Alarm")
        prompt("Lolo Alarm Limit")
        pp(TRUE)
        interest(1)
    }
    field(HIGH, DBF_DOUBLE) {
        prop(YES)
        prompt("High Alarm Limit")
        promptgroup("70 - Alarm")
        interest(1)
        pp(TRUE)
    }
    field(LOW, DBF_DOUBLE) {
        prop(YES)
        promptgroup("70 - Alarm")
        prompt("Low Alarm Limit")
        pp(TRUE)
        interest(1)
    }
    field(HHSV, DBF_MENU) {
        prompt("Hihi Severity")
        prop(YES)
        promptgroup("70 - Alarm")
        menu(menuAlarmSevr)
        pp(TRUE)
        interest(1)
    }
    field(LLSV, DBF_MENU) {
        interest(1)
        pp(TRUE)
        menu(menuAlarmSevr)
        promptgroup("70 - Alarm")
        prompt("Lolo Severity")
        prop(YES)
    }
    field(HSV, DBF_MENU) {
        interest(1)
        pp(TRUE)
        menu(menuAlarmSevr)
        promptgroup("70 - Alarm")
        prompt("High Severity")
        prop(YES)
    }
    field(LSV, DBF_MENU) {
        pp(TRUE)
        interest(1)
        promptgroup("70 - Alarm")
        menu(menuAlarmSevr)
        prop(YES)
        prompt("Low Severity")
    }
    field(HYST, DBF_DOUBLE) {
        interest(1)
        promptgroup("70 - Alarm")
        prompt("Alarm Deadband")
    }
    field(ADEL, DBF_DOUBLE) {
        interest(1)
        prompt("Archive Deadband")
        promptgroup("80 - Display")
    }
    field(MDEL, DBF_DOUBLE) {
        prompt("Monitor Deadband")
        promptgroup("80 - Display")
        interest(1)
    }
    field(RVAL, DBF_LONG) {
        pp(TRUE)
        prompt("Current Raw Value")
    }
    field(ORAW, DBF_LONG) {
        special(SPC_NOMOD)
        prompt("Previous Raw Value")
        interest(3)
    }
    field(RBV, DBF_LONG) {
        prompt("Readback Value")
        special(SPC_NOMOD)
    }
    field(ORBV, DBF_LONG) {
        special(SPC_NOMOD)
        prompt("Prev Readback Value")
        interest(3)
    }
    field(PVAL, DBF_DOUBLE) {
        prompt("Previous value")
        special(SPC_NOMOD)
        interest(3)
    }
    field(LALM, DBF_DOUBLE) {
        prompt("Last Value Alarmed")
        special(SPC_NOMOD)
        interest(3)
    }
    field(ALST, DBF_DOUBLE) {
        special(SPC_NOMOD)
        prompt("Last Value Archived")
        interest(3)
    }
    field(MLST, DBF_DOUBLE) {
        interest(3)
        special(SPC_NOMOD)
        prompt("Last Val Monitored")
    }
    field(PBRK, DBF_NOACCESS) {
        interest(4)
        special(SPC_NOMOD)
        prompt("Ptrto brkTable")
        extra("void *   pbrk")
    }
    field(INIT, DBF_SHORT) {
        prompt("Initialized?")
        special(SPC_NOMOD)
        interest(3)
    }
    field(LBRK, DBF_SHORT) {
        special(SPC_NOMOD)
        prompt("LastBreak Point")
        interest(3)
    }
    field(SIOL, DBF_OUTLINK) {
        promptgroup("90 - Simulate")
        prompt("Sim Output Specifctn")
        interest(1)
    }
    field(SIML, DBF_INLINK) {
        interest(1)
        prompt("Sim Mode Location")
        promptgroup("90 - Simulate")
    }
    field(SIMM, DBF_MENU) {
        interest(1)
        prompt("Simulation Mode")
        menu(menuYesNo)
    }
    field(SIMS, DBF_MENU) {
        prompt("Sim mode Alarm Svrty")
        menu(menuAlarmSevr)
        promptgroup("90 - Simulate")
        interest(2)
    }
    field(IVOA, DBF_MENU) {
        promptgroup("50 - Output")
        menu(menuIvoa)
        prompt("INVALID output action")
        interest(2)
    }
    field(IVOV, DBF_DOUBLE) {
        interest(2)
        prompt("INVALID output value")
        promptgroup("50 - Output")
    }
    field(OMOD, DBF_UCHAR) {
        special(SPC_NOMOD)
        prompt("Was OVAL modified?")
    }
}
