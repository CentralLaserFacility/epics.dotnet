#Simple database with conversion

record(ai, "CLFBUILDSERV:centigrade"){
  field(DESC, "Process Value")
  field(PREC, "1")
  field(LINR, "SLOPE")
  field(EGU,  "Celsius")
  field(SCAN, "Passive")
  field(DISV, "1")
  field(FLNK, "CLFBUILDSERV:temp_fan")
  field(LSV,  "INVALID")
  field(HSV,  "MINOR")
  field(HHSV, "MAJOR")
  field(LOLO, "0.1")
  field(LOW,  "0")
  field(HIGH, "60")
  field(HIHI, "100")
}

#record(ao, "CLFBUILDSERV:set_Centigrade"){
#   field(OUT, "asyn-port")
#   field(FLNK, "CLFBUILDSERV:centigrade_RBV")
#}

#Input values did they take on the device?
record(ai, "CLFBUILDSERV:centigrade_RBV"){
  field(DESC, "Process Value")
  field(PREC, "1")
  field(LINR, "SLOPE")
  field(EGU,  "Celsius")
  field(INP, "CLFBUILDSERV:centigrade PP")
}

#Polling scan
record(ai, "CLFBUILDSERV:centigrade_SCAN"){
  field(DESC, "Process Value")
  field(PREC, "1")
  field(SCAN, "1 second")
  field(LINR, "SLOPE")
  field(EGU,  "Celsius")
  field(INP, "CLFBUILDSERV:centigrade PP")
  field(DISV, 1) #Temporarily disable SCAN
}

#Actively process both FLNK's
record(fanout, "CLFBUILDSERV:temp_fan") {
  field(LNK1, "CLFBUILDSERV:celsius")
  field(LNK2, "CLFBUILDSERV:fahrenheit")
}

#Representative value from fanout
record(ai, "CLFBUILDSERV:celsius") {
  field(DESC, "Process Value")
  field(SCAN, "Passive")
  field(EGU, "Celsius")
  field(INP, "centigrade")
}

#Calculated or conversion record
record(calc, "CLFBUILDSERV:fahrenheit") {
  field(DESC, "Process Value")
  field(EGU,  "Fahrenheit")
  field(INPA, "CLFBUILDSERV:celsius")
  field(CALC, "(9*A/5)+32")
}

#Another alias for fahrenheit
record(ai, "CLFBUILDSERV:F") {
  field(DESC, "Process Value")
  field(EGU,  "F")
  field(INP, "CLFBUILDSERV:fahrenheit CP")
}

#Representative value ~stale vals and TPRO to proactively debug process time to console
record(ai, "CLFBUILDSERV:C") {
  field(DESC, "Process Value")  
  field(EGU,  "C")
  field(INP, "CLFBUILDSERV:centigrade_SCAN")  #still needs a CP or a put to its PROC
  field(TPRO, "1")
}