record(calcout,"$(F):$(user):songsinger") {
  field(SCAN,"5 second")
  field(DESC,"Main record")
  field(INPA,"$(F):$(user):bottlecount")
  field(CALC,"A>0?A+1:0")
  field(OOPT,"When Non-zero")
  field(OCAL,"A-1")
  field(DOPT,"Use OCAL")
  field(OUT,"$(F):$(user):bottlecount PP")
}
record(ai,"$(F):$(user):bottlecount") {
  field(FLNK,"$(F):$(user):textseq.PROC PP")
}
record(scalcout,"$(F):$(user):bottleline") {
  field(AA," bottles")
  field(BB,"1 bottle")
  field(CC,"no more bottles")
  field(CALC,"(A>1)?(PRINTF('%i',A)+AA):(A?BB:CC)")
}
record(calc,"$(F):$(user):bottlecount-1") {
  field(INPA,"$(F):$(user):bottlecount NPP")
  field(CALC,"A>0?A-1:99")
}
record(seq,"$(F):$(user):textseq") {
  field(DOL1,"$(F):$(user):bottlecount NPP")
  field(LNK1,"$(F):$(user):bottleline.A PP")
  field(DLY1,"0.1")
  field(DO2,"1")
  field(LNK2,"$(F):$(user):textline1.B PP")
  field(DLY2,"0.1")
  field(DO3,"0")
  field(LNK3,"$(F):$(user):textline1.B PP")
  field(DLY3,"0.1")
  field(DOL4,"$(F):$(user):bottlecount-1 PP")
  field(LNK4,"$(F):$(user):bottleline.A PP")
  field(DLY4,"2.1")
  field(DOL5,"$(F):$(user):bottlecount NPP")
  field(LNK5,"$(F):$(user):textline2a.A PP")
  field(DLY5,"0.1")
  field(DOL6,"$(F):$(user):bottlecount-1 NPP")
  field(LNK6,"$(F):$(user):textline2b.A PP")
  field(DLY6,"0.1")
  field(LNK7,"$(F):$(user):linefeed PP")
  field(DLY7,"0.1")
}
record(scalcout,"$(F):$(user):textline1") {
  field(INPA,"$(F):$(user):bottlecount.VAL NPP")
  field(INAA,"$(F):$(user):bottleline.SVAL")
  field(CC," of beer on the wall,")
  field(DD," of beer.")
  field(CALC,"AA+(B?CC:DD)")
  field(OUT,"$(F):$(user):printer CPP")
}
record(scalcout,"$(F):$(user):textline2a") {
  field(INPA,"$(F):$(user):bottlecount.VAL NPP")
  field(AA,"Take one down and pass it around, ")
  field(BB,"Go to the store and buy some more, ")
  field(CALC,"A?AA:BB")
  field(OUT,"$(F):$(user):printer CPP")
}
record(scalcout,"$(F):$(user):textline2b") {
  field(INPA,"$(F):$(user):bottlecount.VAL NPP")
  field(INAA,"$(F):$(user):bottleline.SVAL PP")
  field(BB," of beer on the wall.")
  field(CALC,"AA+BB")
  field(OUT,"$(F):$(user):printer CPP")
}
record(scalcout,"$(F):$(user):linefeed") {
  field(CALC,"")
  field(OUT,"$(F):$(user):printer CPP")
}
record(stringin,"$(F):$(user):printer") {
  field(DESC,"LinePrinter for camonitor")
}

